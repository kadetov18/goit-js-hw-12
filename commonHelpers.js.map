{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// В файлі pixabay-api.js\nimport axios from 'axios'; // доданий імпорт Axios\n\nconst API_KEY = '43320774-2e32212a247c0a8af917c24eb';\n\nexport async function searchImages(keyword, page = 1, perPage = 12) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    keyword\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n  try {\n    const response = await axios.get(url);\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElement = document.querySelector('.gallery');\nlet loadingIndicator = document.querySelector('.loading-indicator');\n\nexport function renderImages(images) {\n  images.forEach(image => {\n    const imageCard = document.createElement('div');\n    imageCard.classList.add('image-card');\n\n    const imageElement = document.createElement('a');\n    imageElement.href = image.largeImageURL;\n    imageElement.classList.add('image-link');\n    imageElement.innerHTML = `<img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">`;\n\n    const infoContainer = document.createElement('div');\n    infoContainer.classList.add('info-container');\n\n    const likesWrapper = document.createElement('div');\n    likesWrapper.classList.add('wrapper');\n    const likes = document.createElement('h4');\n    likes.classList.add('info-item', 'likes');\n    likes.textContent = 'Likes';\n    const likesValue = document.createElement('p');\n    likesValue.classList.add('p-info');\n    likesValue.textContent = image.likes;\n    likesWrapper.appendChild(likes);\n    likesWrapper.appendChild(likesValue);\n\n    const viewsWrapper = document.createElement('div');\n    viewsWrapper.classList.add('wrapper');\n    const views = document.createElement('h4');\n    views.classList.add('info-item', 'views');\n    views.textContent = 'Views';\n    const viewsValue = document.createElement('p');\n    viewsValue.classList.add('p-info');\n    viewsValue.textContent = image.views;\n    viewsWrapper.appendChild(views);\n    viewsWrapper.appendChild(viewsValue);\n\n    const commentsWrapper = document.createElement('div');\n    commentsWrapper.classList.add('wrapper');\n    const comments = document.createElement('h4');\n    comments.classList.add('info-item', 'comments');\n    comments.textContent = 'Comments';\n    const commentsValue = document.createElement('p');\n    commentsValue.classList.add('p-info');\n    commentsValue.textContent = image.comments;\n    commentsWrapper.appendChild(comments);\n    commentsWrapper.appendChild(commentsValue);\n\n    const downloadsWrapper = document.createElement('div');\n    downloadsWrapper.classList.add('wrapper');\n    const downloads = document.createElement('h4');\n    downloads.classList.add('info-item', 'downloads');\n    downloads.textContent = 'Downloads';\n    const downloadsValue = document.createElement('p');\n    downloadsValue.classList.add('p-info');\n    downloadsValue.textContent = image.downloads;\n    downloadsWrapper.appendChild(downloads);\n    downloadsWrapper.appendChild(downloadsValue);\n\n    infoContainer.appendChild(likesWrapper);\n    infoContainer.appendChild(viewsWrapper);\n    infoContainer.appendChild(commentsWrapper);\n    infoContainer.appendChild(downloadsWrapper);\n\n    imageCard.appendChild(imageElement);\n    imageCard.appendChild(infoContainer);\n    galleryElement.appendChild(imageCard);\n  });\n\n  hideLoadingIndicator();\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nexport function showLoadingIndicator() {\n  if (!loadingIndicator) {\n    loadingIndicator = document.createElement('div');\n    loadingIndicator.classList.add('loading-indicator');\n    loadingIndicator.textContent = 'Loading...';\n    document.body.appendChild(loadingIndicator);\n  }\n}\n\nexport function hideLoadingIndicator() {\n  if (loadingIndicator) {\n    loadingIndicator.remove();\n    loadingIndicator = null;\n  }\n}\n\nexport function showMessage(message) {}\n","// В файлі main.js\nimport { searchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showLoadingIndicator,\n  hideLoadingIndicator,\n  showMessage,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nconst searchInput = document.querySelector('input[type=\"search\"]');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\n\nlet currentPage = 1;\nlet currentKeyword = '';\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const keyword = searchInput.value.trim();\n  if (keyword === '') {\n    showMessage('Please enter a search keyword.');\n    return;\n  }\n\n  currentKeyword = keyword;\n  currentPage = 1;\n  loadMoreBtn.style.display = 'none';\n  showLoadingIndicator();\n  try {\n    const images = await searchImages(keyword);\n    hideLoadingIndicator();\n\n    if (images.length === 0) {\n      showMessage(\n        `Sorry, there are no images matching your search query. Please try again!`\n      );\n    } else {\n      renderImages(images);\n      loadMoreBtn.style.display = 'block';\n    }\n  } catch (error) {\n    hideLoadingIndicator();\n    showMessage(\n      'An error occurred while fetching images. Please try again later.'\n    );\n  }\n});\n\nloadMoreBtn.addEventListener('click', async () => {\n  currentPage++;\n  showLoadingIndicator();\n  try {\n    const images = await searchImages(currentKeyword, currentPage);\n    hideLoadingIndicator();\n    setTimeout(() => {\n      const card = document.querySelector('.image-card');\n      const cardHeight = card.getBoundingClientRect().height;\n\n      window.scrollBy({\n        top: cardHeight * 3, // Прокручуємо на дві висоти карточки галереї\n        behavior: 'smooth', // Плавна анімація прокручування\n      });\n    }, 300);\n\n    if (images.length === 0) {\n      showMessage(\"We're sorry, but you've reached the end of search results.\");\n      loadMoreBtn.style.display = 'none';\n    } else {\n      renderImages(images);\n    }\n  } catch (error) {\n    hideLoadingIndicator();\n    showMessage(\n      'An error occurred while fetching more images. Please try again later.'\n    );\n  }\n});\n"],"names":["API_KEY","searchImages","keyword","page","perPage","url","axios","error","galleryElement","loadingIndicator","renderImages","images","image","imageCard","imageElement","infoContainer","likesWrapper","likes","likesValue","viewsWrapper","views","viewsValue","commentsWrapper","comments","commentsValue","downloadsWrapper","downloads","downloadsValue","hideLoadingIndicator","SimpleLightbox","showLoadingIndicator","form","searchInput","loadMoreBtn","currentPage","currentKeyword","event","cardHeight"],"mappings":"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"}